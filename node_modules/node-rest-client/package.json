{
  "author": {
    "name": "Alejandro Alvarez Acero"
  },
  "name": "node-rest-client",
  "description": "node API REST client",
  "version": "1.0.3",
  "repository": {
    "type": "git",
    "url": "https://github.com/aacerox/node-rest-client.git"
  },
  "main": "./lib/node-rest-client",
  "dependencies": {
    "xml2js": ">=0.2.4"
  },
  "devDependencies": {
    "jasmine-node": ">=1.2.3"
  },
  "optionalDependencies": {},
  "engines": {
    "node": "*"
  },
  "readme": "# REST Client for Node.js\n\n**NOTE:** _Since version 0.8.0 node does not contain node-waf anymore. The node-zlib package which node-rest-client make use of, depends on node-waf.Fortunately since version 0.8.0 zlib is a core dependency of node, so since version 1.0 of node-rest-client the explicit dependency to \"zlib\" has been removed from package.json. therefore if you are using a version below 0.8.0 of node please use a versi√≥n below 1.0.0 of \"node-rest-client\". _ \n\nAllows connecting to any API REST and get results as js Object. The client has the following features:\n\n- Transparent HTTP/HTTPS connection to remote API sites.\n- Allows simple HTTP basic authentication.\n- Allows most common HTTP operations: GET, POST, PUT, DELETE, PATCH.\n- Direct or through proxy connection to remote API sites.\n- Register remote API operations as client own methods, simplifying reuse.\n- Automatic parsing of XML and JSON response documents as js objects.\n- Dynamic path and query parameters and request headers.\n- Improved Error handling mechanism (client or specific request)\n- Added support for compressed responses: gzip and deflate\n\n\n## Installation\n\n$ npm install node-rest-client\n\n## Usages\n\n### Simple HTTP GET\n\nClient has 2 ways to call a REST service: direct or using registered methods\n\n```javascript\nvar Client = require('node-rest-client').Client;\n\nclient = new Client();\n\n// direct way\nclient.get(\"http://remote.site/rest/xml/method\", function(data, response){\n\t\t\t// parsed response body as js object\n\t\t\tconsole.log(data);\n\t\t\t// raw response\n\t\t\tconsole.log(response);\n\t\t});\n\n// registering remote methods\nclient.registerMethod(\"jsonMethod\", \"http://remote.site/rest/json/method\", \"GET\");\n\nclient.methods.jsonMethod(function(data,response){\n\t// parsed response body as js object\n\tconsole.log(data);\n\t// raw response\n\tconsole.log(response);\n});\n\n```\n\n### HTTP POST \n\nPOST, PUT or PATCH method invocation are configured like GET calls with the difference that you have to set \"Content-Type\" header in args passed to client method invocation:\n\n```javascript\n\n//Example POST method invocation\nvar Client = require('node-rest-client').Client;\n\nvar client = new Client();\n\n// set content-type header and data as json in args parameter\nvar args = {\n  data: { test: \"hello\" },\n  headers:{\"Content-Type\": \"application/json\"} \n};\n\nclient.post(\"http://remote.site/rest/xml/method\", args, function(data,response) {\n  \t// parsed response body as js object\n\tconsole.log(data);\n\t// raw response\n\tconsole.log(response);\n});\n\n// registering remote methods\nclient.registerMethod(\"postMethod\", \"http://remote.site/rest/json/method\", \"POST\");\n\nclient.methods.postMethod(args, function(data,response){\n\t// parsed response body as js object\n\tconsole.log(data);\n\t// raw response\n\tconsole.log(response);\n});\n\n```\nIf no \"Content-Type\" header is set as client arg POST,PUT and PATCH methods will not work properly.\n\n\n### Passing args to registered methods\n\nYou can pass diferents args to registered methods, simplifying reuse: path replace parameters, query parameters, custom headers \n\n```javascript\nvar Client = require('node-rest-client').Client;\n\n// direct way\nclient = new Client();\n\nargs ={\n\t\tdata:{test:\"hello\"}, // data passed to REST method (only useful in POST, PUT or PATCH methods)\n\t\tpath:{\"id\":120}, // path substitution var\n\t\tparameters:{arg1:\"hello\",arg2:\"world\"}, // query parameter substitution vars\n\t\theaders:{\"test-header\":\"client-api\"} // request headers\n\t  };\n\n\nclient.get(\"http://remote.site/rest/json/${id}/method?arg1=hello&arg2=world\", args, \n\t\t\tfunction(data, response){\n\t\t\t// parsed response body as js object\n\t\t\tconsole.log(data);\n\t\t\t// raw response\n\t\t\tconsole.log(response);\n});\n\n\n// registering remote methods\nclient.registerMethod(\"jsonMethod\", \"http://remote.site/rest/json/${id}/method\", \"GET\");\n\n\n\n/* this would construct the following URL before invocation\n *\n * http://remote.site/rest/json/120/method?arg1=hello&arg2=world\n *\n */ \nclient.methods.jsonMethod(args,function(data,response){\n\t// parsed response body as js object\n\tconsole.log(data);\n\t// raw response\n\tconsole.log(response);\n});\n\n```\n\nYou can even use path placeholders in query string in direct connection:\n\n```javascript\nvar Client = require('node-rest-client').Client;\n\n// direct way\nclient = new Client();\n\nargs ={\n\t\tpath:{\"id\":120,\"arg1\":\"hello\",\"arg2\":\"world\"},\n\t\tparameters:{arg1:\"hello\",arg2:\"world\"},\n\t\theaders:{\"test-header\":\"client-api\"}\n\t  };\n\nclient.get(\"http://remote.site/rest/json/${id}/method?arg1=${arg1}&arg2=${arg2}\", args, \n\t\tfunction(data, response){\n\t\t\t// parsed response body as js object\n\t\t\tconsole.log(data);\n\t\t\t// raw response\n\t\t\tconsole.log(response);\n});\n\n```\n\n\n\n###  HTTP POST and PUT methods\n\nTo send data to remote site using POST or PUT methods, just add a data attribute to args object:\n\n```javascript\nvar Client = require('node-rest-client').Client;\n\n// direct way\nclient = new Client();\n\nargs ={\n\t\tpath:{\"id\":120},\n\t\tparameters:{arg1:\"hello\",arg2:\"world\"},\n\t\theaders:{\"test-header\":\"client-api\"},\n\t\tdata:\"<xml><arg1>hello</arg1><arg2>world</arg2></xml>\"\n\t  };\n\nclient.post(\"http://remote.site/rest/xml/${id}/method?arg1=hello&arg2=world\", args, function(data, response){\n\t\t\t// parsed response body as js object\n\t\t\tconsole.log(data);\n\t\t\t// raw response\n\t\t\tconsole.log(response);\n});\n\n// registering remote methods\nclient.registerMethod(\"xmlMethod\", \"http://remote.site/rest/xml/${id}/method\", \"POST\");\n\n\nclient.methods.xmlMethod(args,function(data,response){\n\t// parsed response body as js object\n\tconsole.log(data);\n\t// raw response\n\tconsole.log(response);\n});\n\n// posted data can be js object\nargs_js ={\n\t\tpath:{\"id\":120},\n\t\tparameters:{arg1:\"hello\",arg2:\"world\"},\n\t\theaders:{\"test-header\":\"client-api\"},\n\t\tdata:{\"arg1\":\"hello\",\"arg2\":123}\n\t  };\n\nclient.methods.xmlMethod(args_js,function(data,response){\n\t// parsed response body as js object\n\tconsole.log(data);\n\t// raw response\n\tconsole.log(response);\n});\n\n```\n\n\n### Connect through proxy\n\nJust pass proxy configuration as option to client.\n\n\n```javascript\nvar Client = require('node-rest-client').Client;\n\n// configure proxy\nvar options_proxy={\n\t\tproxy:{\n\t\t\thost:\"proxy.foo.com\",\n\t\t\tport:8080,\n\t\t\tuser:\"proxyuser\",\n\t\t\tpassword:\"123\",\n\t\t\ttunnel:true\n\t\t}\n\t},\n\nclient = new Client(options_proxy);\n\n```\n\nclient has 2 ways to connect to target site through a proxy server: tunnel or direct request, the first one is the default option\nso if you want to use direct request you must set tunnel off.\n\n```javascript\nvar Client = require('node-rest-client').Client;\n\n// configure proxy\nvar options_proxy={\n\t\tproxy:{\n\t\t\thost:\"proxy.foo.com\",\n\t\t\tport:8080,\n\t\t\tuser:\"proxyuser\",\n\t\t\tpassword:\"123\",\n\t\t\ttunnel:false // use direct request to proxy\n\t\t}\n\t},\n\nclient = new Client(options_proxy);\n\n```\n\n\n\n### Basic HTTP auth\n\nJust pass username and password as option to client. Every request done with the client will pass username and password as basic authorization header.\n\n```javascript\nvar Client = require('node-rest-client').Client;\n\n// configure basic http auth for every request\nvar options_auth={user:\"admin\",password:\"123\"};\n\nclient = new Client(options_auth);\n\n```\n\n### Options parameters\n\nYou can pass the following args when creating a new client:\n\n```javascript\n\nvar options ={\n\t// proxy configuration\n\tproxy:{\n\t\t\thost:\"proxy.foo.com\", // proxy host\n\t\t\tport:8080, // proxy port\n\t\t\tuser:\"ellen\", // proxy username if required\n\t\t\tpassword:\"ripley\" // proxy pass if required\n\t\t},\n\t// aditional connection options passed to node http.request y https.request methods \n\t// (ie: options to connect to IIS with SSL)\t\n\tconnection:{\t\n\t\tsecureOptions: constants.SSL_OP_NO_TLSv1_2,\n\t\tciphers:'ECDHE-RSA-AES256-SHA:AES256-SHA:RC4-SHA:RC4:HIGH:!MD5:!aNULL:!EDH:!AESGCM',\n\t\thonorCipherOrder: true\n\t},\n\t// customize mime types for json or xml connections\n\tmimetypes:{\n\t\tjson:[\"application/json\",\"application/json;charset=utf-8\"],\n\t\txml:[\"application/xml\",\"application/xml;charset=utf-8\"]\n\t},\t\n\tuser:\"admin\", // basic http auth username if required\n\tpassword:\"123\" // basic http auth password if required\n};\n\n```\n\n### Managing Requests\n\nEach REST method invocation returns a request object with specific request options and error handler.\n\n```javascript\nvar Client = require('node-rest-client').Client;\n\nclient = new Client();\n\n// direct way\nvar req1 = client.get(\"http://remote.site/rest/xml/method\", function(data, response){\n\t\t\t// parsed response body as js object\n\t\t\tconsole.log(data);\n\t\t\t// raw response\n\t\t\tconsole.log(response);\n\t\t});\n\n// view req1 options\t\t\nconsole.log(req1.options);\n\n// registering remote methods\nclient.registerMethod(\"jsonMethod\", \"http://remote.site/rest/json/method\", \"GET\");\n\nvar req2=client.methods.jsonMethod(function(data,response){\n\t// parsed response body as js object\n\tconsole.log(data);\n\t// raw response\n\tconsole.log(response);\n});\n\n// handling specific req2 errors\nreq2.on('error',function(err){\n\tconsole.log('something went wrong on req2!!', err.request.options);\n});\n```\n\n###  Error Handling\n\n Now you can handle error events in two places: on client or on each request.\n\n```javascript\n\nclient = new Client(options_auth);\n\n// handling request error events\nclient.get(\"http://remote.site/rest/xml/method\", function(data, response){\n\t\t\t// parsed response body as js object\n\t\t\tconsole.log(data);\n\t\t\t// raw response\n\t\t\tconsole.log(response);\n\t\t}).on('error',function(err){\n\t\t\tconsole.log('something went wrong on the request', err.request.options);\n\t\t});\n\n// handling client error events\nclient.on('error',function(err){\n\tconsole.error('Something went wrong on the client', err);\n});\n\n```",
  "readmeFilename": "readme.md",
  "bugs": {
    "url": "https://github.com/aacerox/node-rest-client/issues"
  },
  "_id": "node-rest-client@1.0.3",
  "dist": {
    "shasum": "fed1e07758329f1e001adb076e35c3db008f8a77"
  },
  "_from": "node-rest-client@*",
  "_resolved": "https://registry.npmjs.org/node-rest-client/-/node-rest-client-1.0.3.tgz"
}
